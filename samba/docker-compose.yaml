services:
  samba:
    image: dperson/samba
    environment:
      - TZ=Asia/Taipei
      # 1. Permission Mapping
      # Still required so the container can READ the files on your host disk
      - USERID=${MY_UID}
      - GROUPID=${MY_GID}
      
      # 2. Simplified Share Configuration
      # Syntax: name;path;browsable;readonly;guest;users
      # We set readonly=yes, guest=yes, users=all
      - SHARE=MyShare;/mnt/share;yes;yes;yes;all
      
    volumes:
      - /home/wlin/share:/mnt/share
    ports:
      - "445:445"
    restart: always
